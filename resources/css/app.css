@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   GLOBAL STYLES
   ============================================ */

/* Prevent horizontal overflow globally */
html {
    overflow-x: hidden !important;
    width: 100% !important;
    max-width: 100% !important;
}

body {
    overflow-x: hidden !important;
    width: 100% !important;
    max-width: 100% !important;
    position: relative !important;
}

/* ============================================
   RTL SUPPORT
   ============================================ */

[dir="rtl"] {
    direction: rtl;
}

[dir="rtl"] body {
    text-align: right;
}

/* Text alignment swaps */
[dir="rtl"] .text-left {
    text-align: right;
}

[dir="rtl"] .text-right {
    text-align: left;
}

/* Margin swaps */
[dir="rtl"] .ml-auto {
    margin-left: 0;
    margin-right: auto;
}

[dir="rtl"] .mr-auto {
    margin-right: 0;
    margin-left: auto;
}

/* ============================================
   RTL OVERFLOW FIX - CRITICAL
   ============================================ */

[dir="rtl"] html,
[dir="rtl"] body {
    overflow-x: hidden !important;
    width: 100% !important;
    max-width: 100vw !important;
}

/* Hide all horizontal scrollbars in RTL */
[dir="rtl"] *::-webkit-scrollbar {
    width: 0 !important;
    height: 0 !important;
    display: none !important;
}

[dir="rtl"] * {
    scrollbar-width: none !important;
    -ms-overflow-style: none !important;
}

/* Force all elements to respect viewport width in RTL */
[dir="rtl"] header,
[dir="rtl"] main,
[dir="rtl"] footer,
[dir="rtl"] section,
[dir="rtl"] nav,
[dir="rtl"] aside,
[dir="rtl"] article,
[dir="rtl"] div {
    max-width: 100vw !important;
    box-sizing: border-box !important;
}

/* Specifically target the header to prevent any overflow */
[dir="rtl"] #mainHeader {
    overflow: hidden !important;
    width: 100% !important;
    max-width: 100vw !important;
}

[dir="rtl"] #mainHeader > div {
    overflow: hidden !important;
    width: 100% !important;
    max-width: 100% !important;
}

/* Fix dropdowns in RTL - they should appear on the left */
[dir="rtl"] .absolute.right-0,
[dir="rtl"] .absolute[class*="right-0"] {
    right: auto !important;
    left: 0 !important;
}

/* Ensure dropdowns don't cause overflow */
[dir="rtl"] .absolute {
    max-width: calc(100vw - 16px) !important;
}

/* Fix search input positioning in RTL */
[dir="rtl"] .absolute.inset-y-0.left-0 {
    left: auto !important;
    right: 0 !important;
}

[dir="rtl"] form input[type="text"] {
    padding-right: 3rem !important;
    padding-left: 1rem !important;
}

/* Prevent form from causing overflow */
[dir="rtl"] #mainHeader form {
    flex-shrink: 1 !important;
    min-width: 0 !important;
    overflow: hidden !important;
}

/* Fix flex containers */
[dir="rtl"] #mainHeader .flex {
    overflow: hidden !important;
}

/* Ensure buttons don't cause overflow */
[dir="rtl"] #mainHeader button,
[dir="rtl"] #mainHeader a {
    flex-shrink: 0 !important;
}
